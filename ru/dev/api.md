# Чем Telegram API отличается от Bot API

Ботом управляет программа. Она связывается с серверами Телеграма, чтобы
получать информацию (например, о сообщении, которое получил бот) и отдавать команды (например, ответить на сообщение).
Давайте разберёмся, как это происходит.

**MTProto API** — он же **Telegram API** — это апи, через которое ваше приложение Телеграма на телефоне
или компьютере связывается с серверами Телеграма. Он открыт: разработчики могут использовать его, чтобы создавать
свои приложения для мессенджера.

Называется оно так потому, что основано на протоколе MTProto, который команда
Телеграм и разработала.

**Telegram Bot API** — это отдельное апи поверх Telegram API, на котором могут работать только боты.

Оно было создано для того, чтобы разработчики могли писать ботов на обычных HTTP-запросах, не разбираясь в протоколе
MTProto. Ещё в Bot API есть фичи для упрощения разработки: например, он может работать через вебхуки и автоматически
размечать сообщения через HTML или Markdown.

Но вам это не нужно :&#8288;)

Скорее всего, вы не будете писать сырые HTTP-запросы, а будете использовать готовые библиотеки для разработки ботов.
Такие библиотеки есть под многие языки программирования, и обычно в них есть всё, что вам понадобится для удобной
работы.

**Для разработки ботов вы можете использовать как библиотеки под Telegram API, так и библиотеки под Bot API.**

## Какой API выбрать?

Под Bot API написано гораздо больше библиотек.

С другой стороны, в Bot API больше ограничений. Например, через него
нельзя [загружать большие файлы](../messages/sending#file-limits)
или [получать старые сообщения из истории чата](./updates#limitations).

Таких различий между Bot API и Telegram API немного, и ниже я постарался упомянуть все важные различия.

О выборе библиотеки читайте [на следующей странице](./libraries).

## Различия функционала Bot API и Telegram API { #api-difference }

| Фича                                     | Bot API                                                                                                                                 | Telegram API                                                                                |
|------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------|
| Получение сообщений                      | Только апдейты                                                                                                                          | + по ID сообщения                                                                           |
| Получение пользователя                   | Только апдейты                                                                                                                          | + по ID (если ["видел"](../chats/pm#seen-users) пользователя) и по @юзернейму (200 в сутки) |
| Размер файлов                            | ↓ 20 МБ, ↑ 50 МБ (Как для обычных пользователей с [локальным сервером](https://core.telegram.org/bots/api#using-a-local-bot-api-server) | Как для обычных пользователей                                                               |
| Получение списка участников группы       | Невозможно                                                                                                                              | Возможно                                                                                    |
| Получение старых апдейтов                | Невозможно                                                                                                                              | Возможно                                                                                    |
| Запуск нескольких программ с одним ботом | Только если вторая программа на Telegram API                                                                                            | Возможно                                                                                    |

В Telegram API можно ограничено получить старые апдейты (https://core.telegram.org/api/updates#recovering-gaps).
Это полезно, например, чтобы получить список пользователей бота, если он не сохранялся или база данных была утеряна.
{#old-updates}

## Юзерботы

Раз Telegram API открыт, и под него даже есть всякие библиотеки, — значит, вы легко можете написать программу,
управляющую не ботом, а аккаунтом пользователя.

В народе такую программу называют юзерботом.

Кто-то пишет юзерботов, чтобы каждую
минуту [ставить текущее время себе на аватарку](https://habr.com/ru/articles/457078/), кто-то — чтобы сохранять
сообщения из публичных групп и каналов.

В общем, с помощью юзерботов можно делать любые действия с Телеграм-аккаунтами, которые нельзя сделать с помощью ботов.

::: warning
Телеграм обычно не банит за использование юзерботов, но будьте осторожны: за спам аккаунт могут ограничить
или удалить.
:::

## Ссылки по теме

- [Технические детали: как устроен протокол MTProto](https://core.telegram.org/mtproto)
- [Об авторизации ботов через Telegram API](https://core.telegram.org/api/bots)
- [Bot API reference](https://core.telegram.org/bots/api)
- [Методы Telegram API](https://core.telegram.org/methods)
- [Канал с обновлениями Bot API](https://t.me/BotNews)
